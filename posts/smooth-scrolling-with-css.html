<!DOCTYPE html>
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="http://fonts.googleapis.com/css?family=Josefin+Sans:400,700|family=Lora:400,700,400italic" rel="stylesheet">
<link rel="stylesheet" href="/style.css">
<link rel="icon" href="/images/icons/favicon.png">
<!--[if IE]><link rel="shortcut icon" href="images/icons/favicon.ico"><![endif]-->
<title>Smooth scrolling with CSS - Vincent Orback</title>
<meta name="description" content="A new way of smooth scrolling without jQuery.">
<link rel="canonical" href="http://vincentorback.se/posts/smooth-scrolling-with-css/">
<link rel="author" href="https://plus.google.com/105789918295897205990/posts/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Smooth scrolling with CSS - Vincent Orback">
<meta property="og:description" content="A new way of smooth scrolling without jQuery.">
<meta property="og:url" content="http://vincentorback.se/blog/">
<meta property="og:site_name" content="Vincent Orback">
<meta property="og:image" content="http://vincentorback.se/images/screenshot.png">
</head>

<body class="blog single">
<!--[if lte IE 9]>
<div class="iewarning">
  <p>You are using an <b>outdated</b> browser. I recommend you <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience of this website but more importantly, the whole web.</p>
</div>
<![endif]-->
<header id="top" role="banner" itemscope itemtype="http://schema.org/WPHeader">
  <a href="/en/" class="logo">
    <h1>Vincent Orback</h1>
  </a>
  <nav class="main-nav" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <ul>
      <li><a href="/en/" itemprop="name">Work</a></li>
      <li><a href="/about-me/" itemprop="name">About me</a></li>
      <li class="active"><a href="/blog/" itemprop="name">Blog</a></li>
      <li><a href="/contact/" itemprop="name">Contact</a></li>
    </ul>
  </nav>
  <h2 itemprop="headline">Blog</h2>
</header>

<main id="blog" role="main">

  <article class="entry" itemscope itemtype="http://schema.org/TechArticle">
    <header>
      <h1 class="entry-title" itemprop="name headline">Smooth scrolling with CSS</h1>
      <time datetime="2014-01-17" class="date" itemprop="datePublished">22 jan 2014</time>
    </header>
    <div class="entry-content" itemprop="articleBody">
      <p>Recently, I decided to completly remove jQuery from my website. Not just because it would be nice to loose another request and some bytes but because I wanted to test my vanilla javascript skills.</p>

      <p>Now my site isn’t a very javascript heavy site. The main functions are:</p>
      <ol>
        <li>Lazy loading images on the portfolio page</li>
        <li>Posting the form on my contact page.</li>
      </ol>

      <p>Before I "turned vanilla", I also had a smooth scrolling link on the front page. Now animation scroll is easy with jQuery, but with pure javascript it can be alot harder.</p>

      <p>I thought, maby i can do it with CSS? That sounds cool! The code below pulls the body upwards and out of the viewport with a negative margin-top. Just as you click the scroll button, a transition is added and just after that the negative margin is added making the body move upwards with the chosen transition duration and timing-function (easing). Then after that transition time, the margin is removed setting the body back to it’s original state and a in a blink of an eye, we scroll down to the targeted element.</p>

<pre><code class="language-javascript">var targetOffset,
  body = document.body,
  button = document.getElementById('scrollButton'),
  animateTime = 1200;

button.addEventListener('click', function (event) {

  targetOffset = document.getElementById(event.target.hash.substr(1)).offsetTop;

  body.style.transition = "margin-top " + animateTime + "ms ease-in-out";

  body.style.marginTop = "-" + targetOffset + "px";

  window.setTimeout(function () {
    body.style.cssText = "";
    window.scrollTo(0, targetOffset);
  }, animateTime);

  event.preventDefault();

}, false);</code></pre>

    <br />
    <p>Here’s a <a href="http://cdpn.io/FCpBo">demo</a>.</p>
    <p>If you have any comments on the code, aproach, performance, semantics or what ever, please tell me in the comments below!</p>
    </div>
  </article>

  <section class="comments">
    <div id="disqus_thread"></div>

    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments.</a></noscript>
  </section>

</main>

<footer class="footer" role="contentinfo" itemscope itemtype="http://schema.org/WPFooter">
  <div itemscope itemtype="http://schema.org/Person">
    <a itemprop="url" href="http://vincentorback.se"><div itemprop="name"><strong>Vincent Orback</strong></div></a>
    <div class="jobtitle" itemprop="jobtitle">Web Designer and Web Developer</div>
    <div class="adress" itemprop="adtress" itemscope itemtype="http://schema.org/PostalAdtress">
      <div><span itemprop="adtressLocality">Stockholm</span></div>, <div itemprop="adtressCountry"> Sweden</div>
    </div>
    <div class="epost" itemprop="email"><a href="mailto:vorback@gmail.com" target="_blank" rel="nofollow">vorback@gmail.com</a></div>
    <!--<div class="telefon" itemprop="telephone">+46 725 309 222</div>-->
  </div>
</footer>


<script src="/js/main-min.js"></script>
<script src="/js/vendor/prism.js"></script>
<script>
/*
* Modernizr.on() prollyfill
* https://github.com/stucox/modernizr-on
*/
var Modernizr=function(n,o){var r=[];n._version.split(".")[0]>2&&window.console&&console.warn("Modernizr.on prolly isn't needed from v3 onwards!");var e=function(){for(var i,t=r.length;t--;)i=r[t][0],n[i]!==o&&(r[t][1](n[i]),r.splice(t,1));r.length&&setTimeout(e,100)};return n.on=function(n,o){r.push([n,o]),setTimeout(e,0)},n}(Modernizr);


/**
 * Disqus comments.
 */
(function() {
var disqus_shortname = 'vincentorback';

  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();

/**
 * Google Analytics
 */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-31135100-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body>
</html>